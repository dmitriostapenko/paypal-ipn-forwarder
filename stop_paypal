
require_relative 'lib/router'

process_id = File.read(Router::PROCESS_FILE_NAME)
Process.kill("HUP", process_id)
Process.wait
puts 'Paypal testing has been terminated'


def initialize
  @router = Router.new
  @poll = Poller.new(@router)
end


def stop
  @poll.test_mode_off
  process_id = read_process_id
  Process.kill("HUP", process_id)
  Process.wait
  puts 'Paypal testing has been terminated'
end

def read_process_id
  File.read(PROCESS_FILE_NAME)
end

